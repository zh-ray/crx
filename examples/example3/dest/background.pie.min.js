!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=474)}({474:function(a,b,c){"use strict";function d(a){var b="";if(!a.url)return!1;var c=new URL(a.url);if("https:"!==c.protocol&&"http:"!==c.protocol)return!1;b=c.origin,g(b,h.incrementTimer(b)[b])}function e(){return(Math.floor(9007199254740992*Math.random())+1).toString()}function f(a){var b="";a&&(b=a),chrome.notifications.create(e(),{title:"Kukruu-kuu",iconUrl:"notification-icon-1.png",type:"basic",message:b},function(){i.get("notification_volume",function(a){1===a.notification_volume&&new Audio("rooster.wav").play()})})}function g(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!a)return Promise.reject(new Error("Invalid currentUrl"));var c=1;return h.getTimeSpent(a).then(function(d){return a=a.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0],c=parseInt(d)+b,new Promise(function(a,b){i.get("blacklisted_domains",a)})}).then(function(b){var d=b.blacklisted_domains||{};if(d[a]){var e=60*parseInt(d[a]);0===c%e&&f("Your Rooster is angry! You are spending too much time on "+a)}return!1}).catch(function(a){console.log(a)})}var h=(c(475),c(48),c(476)),i=chrome.storage.sync,j={isFocused:!0,isVideoPlaying:!1};window.addEventListener("unhandledrejection",function(a,b){return console.log("unhandledrejection - ",a),!1}),window.onerror=function(a,b,c,d,e){if(a.toLowerCase().indexOf("script error")>-1)alert("Script Error: See Browser Console for Detail");else{var f=["Message: "+a,"URL: "+b,"Line: "+c,"Column: "+d,"Error object: "+JSON.stringify(e)].join(" - ");console.log("on error - ",f)}return!1},chrome.tabs.onActivated.addListener(function(){j.isFocused=!0}),chrome.windows.onFocusChanged.addListener(function(a){a===chrome.windows.WINDOW_ID_NONE?j.isFocused=!1:j.isFocused=!0}),chrome.idle.onStateChanged.addListener(function(a){j.isFocused="active"===a}),setInterval(function(){chrome.windows&&chrome.windows.getCurrent(function(a){j.isFocused=!!a&&a.focused,j.isFocused&&chrome.tabs&&chrome.tabs.getSelected(null,d)})},1e3),setInterval(function(){h.syncTimer()},2e4)},475:function(a,b,c){"use strict";a.exports=function(){var a=console.log,b=console.error,c=console.warning;return console.error=function(a){ImaginarySendMailErrorMethod(a),b.apply(console,arguments)},console.log=function(b){var c=Array.prototype.slice.call(arguments);c.push(new Date),a.apply(console,c)},console.warning=function(a){c.apply(console,arguments)},console}()},476:function(a,b,c){"use strict";function d(){this.timerArray={}}var e=c(48),f=chrome.storage.sync;d.prototype.incrementTimer=function(a){return this.timerArray[a]?this.timerArray[a]++:this.timerArray[a]=1,this.timerArray},d.prototype.syncTimer=function(){var a=this;return new Promise(function(a,b){f.get("activityStats",a)}).then(function(b){b=b.activityStats||{};var c=e.getDate();b[c]||(b={},b[c]={});for(var d in a.timerArray){var g=a.timerArray[d];b[c][d]?b[c][d]+=g:b[c][d]=g,a.timerArray[d]=0}return f.set({activityStats:b}),b})},d.prototype.resetActiveData=function(){return new Promise(function(a,b){f.get("activityStats",a)}).then(function(a){a=a.activityStats||{};for(var b={},c=e.getDate(),d=0;d<2;d++)c=e.getDate(d),a[c]&&(b[c]=a[c]);return f.set({activityStats:b}),a}).catch(function(a){return null})},d.prototype.getTimeSpent=function(a){return new Promise(function(a,b){f.get("activityStats",a)}).then(function(b){b=b.activityStats||{};var c=e.getDate();return b[c]||(b[c]={}),void 0===b[c][a]?0:b[c][a]}).catch(function(a){return 0})};var g=function(){var a;return function(){return a||(a=new d),a}}();a.exports=g()},48:function(a,b,c){"use strict";function d(){var a,b="yy-mm-dd";a=0==arguments.length?new Date:arguments[0],arguments.length>1&&(b=arguments[1]);var c=a.getDate();c<10&&(c="0"+c);var d=a.getMonth()+1;d<10&&(d="0"+d);var e,f=a.getFullYear();switch(b){case"yy.mm.dd":e=f+"."+d+"."+c;break;case"yy/mm/dd":e=f+"/"+d+"/"+c;break;case"yy-mm-dd":e=f+"-"+d+"-"+c;break;case"mm/dd/yy":e=d+"/"+c+"/"+f;break;case"dd-mm-yy":e=c+"-"+d+"-"+f;break;case"dd/mm/yy":e=c+"/"+d+"/"+f;break;default:e=c+"."+d+"."+f}return e}a.exports={getDate:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=new Date;return b.setDate(b.getDate()-a),d(b)}}}});